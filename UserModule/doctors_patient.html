<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escosia Dental Clinic - Doctors</title>
    <!-- Link to your CSS file (can be the combined one or an earlier version) -->
    <link rel="stylesheet" href="style.css">
    <!-- No need for Font Awesome if you are NOT using the icon header here -->
    <!-- Removed redundant style block -->
</head>
<body>

    <div class="container">
        <header>
            <div class="logo">
                <img src="teeth.png" alt="Tooth Logo" class="logo-icon"> <!-- Make sure teeth.png exists -->
                <h1>Escosia Dental Clinic</h1>
            </div>
            <nav>
                <ul>
                    <!-- Assuming you have a home page like index.html or home.html -->
                    <li><a href="home.html">HOME</a></li>
                    <!-- Keep doctors.html link and active class as this IS the doctors page -->
                    <li><a href="doctors_patient.html" class="active">DOCTORS</a></li>
                     <!-- Assuming you have a notifications page -->
                    <li><a href="patient_notifications.html">NOTIFICATIONS</a></li>
                    <!-- *** THIS IS THE CHANGED LINE *** -->
                    <li><a href="patient_appointments.html">APPOINTMENTS</a></li>
                    <!-- Link to the profile page -->
                    <li><a href="patient_profile.html">PROFILE</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section class="doctors-section">
                <h2>OUR DOCTORS</h2>
                <div class="doctors-grid">
                    <!-- Doctor Card 1 -->
                    <div class="doctor-card">
                        <div class="doctor-image-placeholder">
                            <img src="doctor1.jpeg" alt="Photo of Dr. Ashford"> <!-- Make sure doctor1.jpeg exists -->
                        </div>
                        <h3>Dr. Ashford</h3>
                        <div class="doctor-details">
                            <p>Experience: 12 years</p>
                            <p>Specialty: General Dentist</p>
                            <p>Fee per consultation: PHP 650.00</p>
                        </div>
                        <a href="#" class="btn open-modal-btn" data-doctor="Dr. Ashford">BOOK APPOINTMENT</a>
                    </div>

                    <!-- Doctor Card 2 -->
                    <div class="doctor-card">
                        <div class="doctor-image-placeholder">
                             <img src="doctor2.jpeg" alt="Photo of Dr. Monte"> <!-- Make sure doctor2.jpeg exists -->
                        </div>
                        <h3>Dr. Monte</h3>
                         <div class="doctor-details">
                             <p>Experience: 8 years</p>
                             <p>Specialty: Orthodontist</p>
                             <p>Fee per consultation: PHP 700.00</p>
                        </div>
                        <a href="#" class="btn open-modal-btn" data-doctor="Dr. Monte">BOOK APPOINTMENT</a>
                    </div>

                    <!-- Doctor Card 3 -->
                    <div class="doctor-card">
                         <div class="doctor-image-placeholder">
                            <img src="doctor3.jpeg" alt="Photo of Dr. Khan"> <!-- Make sure doctor3.jpeg exists -->
                        </div>
                        <h3>Dr. Khan</h3>
                         <div class="doctor-details">
                            <p>Experience: 15 years</p>
                            <p>Specialty: Endodontist</p>
                            <p>Fee per consultation: PHP 800.00</p>
                        </div>
                        <a href="#" class="btn open-modal-btn" data-doctor="Dr. Khan">BOOK APPOINTMENT</a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Appointment Modal (Keep as is from your original code) -->
    <div id="appointmentModal" class="modal">
        <!-- ... (modal content remains the same) ... -->
         <div class="modal-content">
            <div class="modal-header">
                <h2>Book Appointment</h2>
                <button class="modal-close-btn">Cancel</button>
            </div>
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="new-patient">NEW PATIENT</button>
                <button class="tab-btn" data-tab="existing-patient">EXISTING PATIENT</button>
            </div>
            <div class="modal-body">
                <!-- New Patient Form -->
                <div id="new-patient" class="tab-content active">
                    <p class="required-note">All fields with * are required</p>
                    <form id="newPatientForm">
                        <input type="hidden" id="selectedDoctor" name="selectedDoctor">
                        <h4>Patient Information</h4>
                        <div class="form-group">
                            <label for="lastName">*Last Name</label>
                            <input type="text" id="lastName" name="lastName" placeholder="Enter Last Name" required>
                        </div>
                        <div class="form-group">
                            <label for="firstName">*First Name</label>
                            <input type="text" id="firstName" name="firstName" placeholder="Enter First Name" required>
                        </div>
                        <div class="form-group">
                            <label for="gender">*Gender</label>
                            <select id="gender" name="gender" required>
                                <option value="" disabled selected>Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                                <option value="prefer_not_say">Prefer not to say</option>
                            </select>
                        </div>
                         <div class="form-group">
                            <label for="contactNumber">Contact Number</label>
                            <input type="tel" id="contactNumber" name="contactNumber" placeholder="Enter Contact Number">
                        </div>

                        <h4 class="details-heading">Appointment Details</h4>
                        <div class="form-group">
                             <label for="appointmentDate">*Date</label>
                             <input type="date" id="appointmentDate" name="appointmentDate" required>
                        </div>
                        <div class="time-inputs">
                            <div class="form-group">
                                <label for="startTime">*Set Start Time</label>
                                <input type="time" id="startTime" name="startTime" required>
                            </div>
                            <div class="form-group">
                                <label for="endTime">*Set End Time</label>
                                <input type="time" id="endTime" name="endTime" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="dentistInCharge">*Dentist In-charge</label>
                            <select id="dentistInCharge" name="dentistInCharge" required>
                                <option value="" disabled selected>Select Dentist</option>
                                <option value="Dr. Ashford">Dr. Ashford</option>
                                <option value="Dr. Monte">Dr. Monte</option>
                                <option value="Dr. Khan">Dr. Khan</option>
                            </select>
                        </div>

                        <div class="form-actions">
                             <button type="submit" class="btn btn-submit">Save</button>
                        </div>
                    </form>
                </div>

                <!-- Existing Patient Form -->
                <div id="existing-patient" class="tab-content">
                     <p class="required-note">Please provide details to find your record. Fields with * are required.</p>
                     <form id="existingPatientForm">
                        <input type="hidden" id="selectedDoctorExisting" name="selectedDoctorExisting">
                         <h4>Patient Lookup</h4>
                         <div class="form-group">
                            <label for="existingLastName">*Last Name</label>
                            <input type="text" id="existingLastName" name="existingLastName" placeholder="Enter Last Name" required>
                        </div>
                         <div class="form-group">
                            <label for="existingDob">*Date of Birth</label>
                            <input type="date" id="existingDob" name="existingDob" required>
                        </div>
                         <div class="form-group">
                            <label for="existingContact">Contact Number (Optional)</label>
                            <input type="tel" id="existingContact" name="existingContact" placeholder="Enter Contact Number">
                        </div>
                         <!-- === Appointment Details for Existing Patient === -->
                         <h4 class="details-heading">Appointment Details</h4>
                         <div class="form-group">
                             <label for="appointmentDateExisting">*Date</label>
                             <input type="date" id="appointmentDateExisting" name="appointmentDateExisting" required>
                         </div>
                         <div class="time-inputs">
                             <div class="form-group">
                                 <label for="startTimeExisting">*Set Start Time</label>
                                 <input type="time" id="startTimeExisting" name="startTimeExisting" required>
                             </div>
                             <div class="form-group">
                                 <label for="endTimeExisting">*Set End Time</label>
                                 <input type="time" id="endTimeExisting" name="endTimeExisting" required>
                             </div>
                         </div>
                         <div class="form-group">
                             <label for="dentistInChargeExisting">*Dentist In-charge</label>
                             <select id="dentistInChargeExisting" name="dentistInChargeExisting" required>
                                 <option value="" disabled selected>Select Dentist</option>
                                 <option value="Dr. Ashford">Dr. Ashford</option>
                                 <option value="Dr. Monte">Dr. Monte</option>
                                 <option value="Dr. Khan">Dr. Khan</option>
                             </select>
                         </div>
                         <!-- === End Appointment Details === -->

                        <div class="form-actions">
                             <button type="submit" class="btn btn-submit">Find & Book</button>
                        </div>
                     </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Link to your script file (Assuming modal logic is in here) -->
    <!-- script.js likely needed for modal functionality -->
    <script src="script.js"></script>
    <script>
        // Optional JavaScript enhancements (Keep as is or integrate into script.js)
        document.addEventListener('DOMContentLoaded', (event) => {
            // Set minimum date for ALL appointmentDate fields to today
            const today = new Date().toISOString().split('T')[0];
            const dateFields = document.querySelectorAll('input[type="date"]');
            dateFields.forEach(field => {
                 if (field.id !== 'existingDob') { // Exclude DOB
                     field.setAttribute('min', today);
                 }
            });

            // --- Logic to pre-select dentist based on button click ---
            const openModalButtons = document.querySelectorAll('.open-modal-btn');
            const modal = document.getElementById('appointmentModal');
            const selectedDoctorInput = document.getElementById('selectedDoctor');
            const dentistSelectNew = document.getElementById('dentistInCharge');
            const selectedDoctorExistingInput = document.getElementById('selectedDoctorExisting');
            const dentistSelectExisting = document.getElementById('dentistInChargeExisting');
            const closeModalButton = modal?.querySelector('.modal-close-btn');
            const tabs = modal?.querySelectorAll('.tab-btn');
            const tabContents = modal?.querySelectorAll('.tab-content');

            openModalButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault(); // Prevent default link behavior
                    const doctorName = this.getAttribute('data-doctor');
                    // Pre-select dentist in both forms
                    if (selectedDoctorInput) selectedDoctorInput.value = doctorName;
                    if (dentistSelectNew) { for (let i = 0; i < dentistSelectNew.options.length; i++) { if (dentistSelectNew.options[i].value === doctorName) { dentistSelectNew.selectedIndex = i; break;}}}
                    if (selectedDoctorExistingInput) selectedDoctorExistingInput.value = doctorName;
                    if (dentistSelectExisting) { for (let i = 0; i < dentistSelectExisting.options.length; i++) { if (dentistSelectExisting.options[i].value === doctorName) { dentistSelectExisting.selectedIndex = i; break;}}}
                    // Display modal
                    if(modal) modal.style.display = 'block';
                });
            });

             // --- Modal Close Logic ---
             if (closeModalButton) { closeModalButton.addEventListener('click', () => { if(modal) modal.style.display = 'none'; }); }
             window.addEventListener('click', (event) => { if (event.target === modal) { if(modal) modal.style.display = 'none'; }});

             // --- Tab Switching Logic ---
            if (tabs && tabContents) {
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));
                        tab.classList.add('active');
                        const targetContent = modal.querySelector(`#${tab.getAttribute('data-tab')}`);
                        if(targetContent) targetContent.classList.add('active');
                    });
                });
            }

             // --- Form Submission Logic (Example Placeholder) ---
            const newPatientForm = document.getElementById('newPatientForm');
            const existingPatientForm = document.getElementById('existingPatientForm');

            if (newPatientForm) {
                newPatientForm.addEventListener('submit', (e) => {
                    e.preventDefault(); // Prevent actual form submission for now
                    console.log('New Patient Form Submitted');
                    // Add AJAX/Fetch request here to send data to the server
                    alert('Appointment requested! (Backend logic needed)');
                    if(modal) modal.style.display = 'none'; // Close modal on success
                    // Optionally redirect or update UI
                });
            }

            if (existingPatientForm) {
                existingPatientForm.addEventListener('submit', (e) => {
                    e.preventDefault(); // Prevent actual form submission for now
                    console.log('Existing Patient Form Submitted');
                    // Add AJAX/Fetch request here to find patient and book
                    alert('Searching for patient and booking... (Backend logic needed)');
                     if(modal) modal.style.display = 'none'; // Close modal on success
                     // Optionally redirect or update UI
                });
            }
        });
    </script>

</body>
</html>